info:
  version: v1.0
components:
  schemas:

    BffTokenExchangeBody:
      title: Body della richiesta di token exchange
      description: >-
        Body della richiesta di token exchange
      type: object
      required:
        - authorizationToken
      properties:
        authorizationToken:
          type: string
          description: >-
            Token di autorizzazione

    BffTokenExchangeResponse:
        title: Risposta della token exchange
        description: >-
          Risposta della token exchange
        type: object
        required:
          - exp
          - name
          - sessionToken
          - uid
        properties:
          desired_exp:
            type: integer
          exp:
            type: integer
          family_name:
            type: string
          fiscal_number:
            type: string
            minLength: 16
            maxLength: 16
            pattern: ([A-Z]{6}[0-9LMNPQRSTUV]{2}[ABCDEHLMPRST]{1}[0-9LMNPQRSTUV]{2}[A-Z]{1}[0-9LMNPQRSTUV]{3}[A-Z]{1})$/i
            x-field-extra-annotation: "@lombok.ToString.Exclude" # NO EXTERNAL
          name:
            type: string
          organization:
            $ref: '#/components/schemas/BffTokenExchangeOrganization'
          sessionToken:
            type: string
          uid:
            type: string
            pattern: ^[ -~]*$
            maxLength: 64

    BffTokenExchangeOrganization:
      title: Organization
      description: >-
        Organization dell'utente
      type: object
      required:
        - id
        - name
        - roles
        - fiscal_code
      properties:
        fiscal_code:
          type: string
          minLength: 16
          maxLength: 16
          pattern: ([A-Z]{6}[0-9LMNPQRSTUV]{2}[ABCDEHLMPRST]{1}[0-9LMNPQRSTUV]{2}[A-Z]{1}[0-9LMNPQRSTUV]{3}[A-Z]{1})$/i
          x-field-extra-annotation: "@lombok.ToString.Exclude" # NO EXTERNAL
        hasGroups:
          type: boolean
        id:
          type: string
        name:
          type: string
        groups:
          type: array
          items:
            type: string
        roles:
          type: array
          items:
            type: object
            properties:
              partyRole:
                type: string
              role:
                type: string